
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
</head>
<body th:fragment="adminHeader">
<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
        <a class="navbar-brand" href="/dashboard">Pay My Buddy</a>
        <div class="collapse navbar-collapse justify-content-between">
            <ul class="navbar-nav">
                <!-- Dashboard toujours actif -->
                <li class="nav-item">
                    <a class="nav-link" href="/dashboard">Tableau de bord</a>
                </li>

                <!-- Transactions envoyées : grisé pour ADMIN -->
                <li class="nav-item" sec:authorize="hasRole('ROLE_USER')">
                    <a class="nav-link" href="/transactions/sent">Transactions envoyées</a>
                </li>
                <li class="nav-item" sec:authorize="hasRole('ROLE_ADMIN')">
                    <a class="nav-link disabled" href="#" style="pointer-events: none; opacity: 0.5;" aria-disabled="true">
                        Transactions envoyées
                    </a>
                </li>

                <!-- Transactions reçues : grisé pour ADMIN -->
                <li class="nav-item" sec:authorize="hasRole('ROLE_USER')">
                    <a class="nav-link" href="/transactions/received">Transactions reçues</a>
                </li>
                <li class="nav-item" sec:authorize="hasRole('ROLE_ADMIN')">
                    <a class="nav-link disabled" href="#" style="pointer-events: none; opacity: 0.5;" aria-disabled="true">
                        Transactions reçues
                    </a>
                </li>

                <!-- Transaction (admin) : seulement visible pour ADMIN -->
                <li class="nav-item" sec:authorize="hasRole('ROLE_ADMIN')">
                    <a class="nav-link" href="/admin/transactions">Transactions (admin)</a>
                </li>

                <!-- Mon profil : grisé pour ADMIN -->
                <li class="nav-item" sec:authorize="hasRole('ROLE_USER')">
                    <a class="nav-link" href="/profile">Mon profil</a>
                </li>
                <li class="nav-item" sec:authorize="hasRole('ROLE_ADMIN')">
                    <a class="nav-link disabled" href="#" style="pointer-events: none; opacity: 0.5;" aria-disabled="true">
                        Mon profil
                    </a>
                </li>
            </ul>

            <ul class="navbar-nav">
                <li class="nav-item">
                    <span class="nav-link text-white">Connecté en tant que
                        <strong th:text="|${user.firstName} ${user.lastName}|">Admin</strong>
                    </span>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/logout">Déconnexion</a>
                </li>
            </ul>
        </div>
    </div>
</nav>
</body>
</html>
